<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Library Admin Dashboard</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body { display: flex; background: #f4f6f9; min-height: 100vh; color: #333; }

    /* ===== Sidebar ===== */
    .sidebar {
      width: 240px;
      background: linear-gradient(145deg, #1c2833, #2c3e50);
      color: #ecf0f1;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      transition: width 0.3s ease;
    }
    .sidebar h2 { text-align: center; margin-bottom: 30px; }
    .sidebar a {
      padding: 12px 20px;
      text-decoration: none;
      color: #ecf0f1;
      display: block;
      transition: 0.3s ease;
    }
    .sidebar a:hover { background: #34495e; transform: translateX(5px); }
    .logout {
      margin-top: auto;
      background: #e74c3c;
      text-align: center;
      padding: 12px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .logout:hover { background: #c0392b; }

    /* ===== Main ===== */
    .main { flex: 1; padding: 20px; }
    .topbar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .topbar h1 { color: #2c3e50; }
    .profile { display: flex; align-items: center; gap: 10px; }
    .profile img { width: 40px; height: 40px; border-radius: 50%; }

    /* ===== Cards ===== */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    .card {
      padding: 20px;
      border-radius: 8px;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    .card:hover { transform: translateY(-10px); }
    .card h3 { font-size: 2rem; }
    .books { background: linear-gradient(135deg, #3498db, #2980b9); }
    .returned { background: linear-gradient(135deg, #e74c3c, #c0392b); }
    .issued { background: linear-gradient(135deg, #f39c12, #e67e22); }

    /* ===== Forms ===== */
    .form-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 20px;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    .form-container input, .form-container select, .form-container button {
      padding: 12px;
      font-size: 1rem;
      border: 2px solid #3498db;
      border-radius: 8px;
      width: 100%;
    }
    .form-container button {
      background-color: #3498db;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .form-container button:hover { background-color: #2980b9; }

    /* Table Styling for Student Information */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 30px;
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    th, td { padding: 12px; border-bottom: 1px solid #eee; text-align: left; font-size: 0.95rem; }
    th { background: #f9fafc; color: #555; }

    /* Hide Sections Initially */
    .hidden-section { display: none; }

    @media (max-width: 900px) {
      .sidebar { width: 200px; }
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <h2>ðŸ“š Open Library</h2>
    <a href="#" id="home-link">Home</a>
    <a href="#" id="books-link">Books</a>
    <a href="#" id="issue-return-link">Issue & Return Books</a>
    <a href="#" id="student-info-link">Student Information</a>
    <a href="main.html" class="logout">Logout</a>
  </div>

  <!-- Main -->
  <div class="main">
    <div class="topbar">
      <h1>Dashboard</h1>
      <div class="profile">
        <img src="https://i.pravatar.cc/100" alt="profile">
        <span>Admin</span>
      </div>
    </div>

    <!-- Dynamic Content (Initially Home Page) -->
    <div id="content">
      <h2>Welcome to the Library Admin Dashboard</h2>
      <br/>
      <br/>
    </div>

    <!-- Books Management Section -->
    <div id="books-section" class="hidden-section">
      <h2>Manage Books</h2>

      <!-- Add, Modify, Remove Book Form -->
      <div class="form-container">
        <input type="number" id="S.no" placeholder="Enter Serial Number" />
        <input type="number" id="Key Number" placeholder="Enter unique Key" />
        <input type="text" id="Subject" placeholder="Enter Subject" />
        <input type="text" id="book-title" placeholder="Enter Book Title" />
        <input type="number" id="ISBN" placeholder="Enter ISBN Key" />
        <input type="text" id="book-author" placeholder="Enter Author Name" />
        <input type="text" id="book-year" placeholder="Enter Published Year" />
        <button id="add-book-btn">Add Book</button>
        <button id="remove-book-btn">Remove Book</button>
        <button id="modify-book-btn">Modify Book</button>
      </div>

      <!-- Book List -->
      <h3>Books List:</h3>
      <table id="book-list">
        <thead>
          <tr>
            <th>Book Title</th>
            <th>Author</th>
            <th>Year</th>
          </tr>
        </thead>
        <tbody>
          <!-- Books will be dynamically listed here -->
        </tbody>
      </table>
    </div>

    <!-- Student Information Section -->
    <div id="student-info-section" class="hidden-section">
      <h2>Student Information</h2>

      <!-- Add Student Information Form -->
      <div class="form-container">
        <input type="text" id="student-name" placeholder="Enter Student Name" />
        <input type="text" id="roll-number" placeholder="Enter Roll Number" />
        <input type="text" id="mobile-number" placeholder="Enter Mobile Number" />
        <input type="text" id="book-name" placeholder="Enter Issued Book Name" />
        <input type="date" id="return-date" placeholder="Enter Return Date" />
        <input type="number" id="penalty" placeholder="Enter Penalty" />
        <button id="add-student-btn">Add Student</button>
      </div>

      <!-- Student List -->
      <h3>Student List:</h3>
      <table id="student-list">
        <thead>
          <tr>
            <th>Student Name</th>
            <th>Roll Number</th>
            <th>Mobile Number</th>
            <th>Issued Book</th>
            <th>Return Date</th>
            <th>Penalty</th>
          </tr>
        </thead>
        <tbody>
          <!-- Student details will be dynamically listed here -->
        </tbody>
      </table>
    </div>

    <!-- Issue & Return Books Section -->
<div id="issue-return-section" class="hidden-section">
  <h2>Issue & Return Books</h2>

  <!-- Issue Book Form -->
  <div class="form-container">
    <input type="number" id="issue-student-ID" placeholder="Enter Student ID" />
    <input type="text" id="issue-book-title" placeholder="Enter Book Title" />
    <input type="number" id="issue-book-code" placeholder="Enter Book Code" />
    <input type="date" id="issue-date" placeholder="Enter Issue Date" />
    <input type="date" id="return-date-expected" placeholder="Enter Expected Return Date" />
    <button id="issue-book-btn">Issue Book</button>
  </div>

  <!-- Return Book Form -->
  <div class="form-container">
    <input type="text" id="return-student-ID " placeholder="Enter Student ID" />
    <input type="text" id="return-book-title" placeholder="Enter Book Title" />
    <input type="number" id="return-book Code" placeholder="Enter Book Code" />
    
    <button id="return-book-btn">Return Book</button>
  </div>

    <!-- Issued Books List -->
    <h3>Issued Books:</h3>
    <table id="issued-books-list">
      <thead>
        <tr>
          <th>Student</th>
          <th>Book Title</th>
          <th>Issue Date</th>
          <th>Return Date</th>
        </tr>
      </thead>
      <tbody>
        <!-- Issued books will be dynamically listed here -->
      </tbody>
    </table>
  </div>

    <!-- Dashboard Cards (Initially Visible) -->
    <div id="dashboard-section">
      <div class="cards">
        <div class="card books">
          <div><h3 id="total-books">0</h3><p>Total Books</p></div>ðŸ“˜
        </div>
        <div class="card returned">
          <div><h3 id="returned-books">0</h3><p>Returned Books</p></div>ðŸ“—
        </div>
        <div class="card issued">
          <div><h3 id="issued-books">0</h3><p>Issued Books</p></div>ðŸ“•
        </div>
      </div>

      <h2>Today Dues</h2>
      <table>
        <thead><tr><th>Book Name</th><th>Student</th><th>Issue Date</th><th>Contact</th></tr></thead>
        <tbody id="today-dues">
          <tr><td colspan="4">No Dues for Today</td></tr>
        </tbody>
      </table>

      <h2>Tomorrow Dues</h2>
      <table>
        <thead><tr><th>Book Name</th><th>Student</th><th>Issue Date</th><th>Contact</th></tr></thead>
        <tbody id="tomorrow-dues">
          <tr><td colspan="4">No Dues for Tomorrow</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Issued Books Array
let issuedBooks = [];

// Render Issued Books
const renderIssuedBooks = () => {
  const issuedTable = document.getElementById('issued-books-list').getElementsByTagName('tbody')[0];
  issuedTable.innerHTML = issuedBooks.map(entry => `
    <tr>
      <td>${entry.student}</td>
      <td>${entry.book}</td>
      <td>${entry.issueDate}</td>
      <td>${entry.returnDate}</td>
    </tr>
  `).join('');
};



    // Book and Student Data Arrays
    let books = [];
    let students = [];

    // Render Books List
    const renderBooks = () => {
      const bookListTable = document.getElementById('book-list').getElementsByTagName('tbody')[0];
      bookListTable.innerHTML = books.map(book => `
        <tr>
          <td>${book.title}</td>
          <td>${book.author}</td>
          <td>${book.year}</td>
        </tr>
      `).join('');
    };

    // Render Students List
    const renderStudents = () => {
      const studentListTable = document.getElementById('student-list').getElementsByTagName('tbody')[0];
      studentListTable.innerHTML = students.map(student => `
        <tr>
          <td>${student.name}</td>
          <td>${student.rollNumber}</td>
          <td>${student.mobileNumber}</td>
          <td>${student.bookName}</td>
          <td>${student.returnDate}</td>
          <td>${student.penalty}</td>
        </tr>
      `).join('');
    };

    // Add Book Event
    document.getElementById('add-book-btn').addEventListener('click', () => {
      const title = document.getElementById('book-title').value;
      const author = document.getElementById('book-author').value;
      const year = document.getElementById('book-year').value;
      if (title && author && year) {
        books.push({ title, author, year });
        renderBooks();
      }
    });

    // Add Student Event
    document.getElementById('add-student-btn').addEventListener('click', () => {
      const name = document.getElementById('student-name').value;
      const rollNumber = document.getElementById('roll-number').value;
      const mobileNumber = document.getElementById('mobile-number').value;
      const bookName = document.getElementById('book-name').value;
      const returnDate = document.getElementById('return-date').value;
      const penalty = document.getElementById('penalty').value;
      if (name && rollNumber && mobileNumber && bookName && returnDate && penalty) {
        students.push({ name, rollNumber, mobileNumber, bookName, returnDate, penalty });
        renderStudents();
      }
    });
// Issue Book Event
document.getElementById('issue-book-btn').addEventListener('click', () => {
  const student = document.getElementById('issue-student-name').value;
  const book = document.getElementById('issue-book-title').value;
  const issueDate = document.getElementById('issue-date').value;
  const returnDate = document.getElementById('return-date-expected').value;

  if (student && book && issueDate && returnDate) {
    issuedBooks.push({ student, book, issueDate, returnDate });
    renderIssuedBooks();
  }
});

// Return Book Event
document.getElementById('return-book-btn').addEventListener('click', () => {
  const student = document.getElementById('return-student-name').value;
  const book = document.getElementById('return-book-title').value;

  issuedBooks = issuedBooks.filter(entry => !(entry.student === student && entry.book === book));
  renderIssuedBooks();
});

// Sidebar Navigation for Issue & Return
document.getElementById('issue-return-link').addEventListener('click', () => {
  document.getElementById('dashboard-section').style.display = 'none';
  document.getElementById('books-section').style.display = 'none';
  document.getElementById('student-info-section').style.display = 'none';
  document.getElementById('content').style.display = 'none';
  document.getElementById('issue-return-section').style.display = 'block';
  renderIssuedBooks();
});
    // Event Listeners for Sidebar Links
    document.getElementById('home-link').addEventListener('click', () => {
      document.getElementById('dashboard-section').style.display = 'block';
      document.getElementById('books-section').style.display = 'none';
      document.getElementById('student-info-section').style.display = 'none';
      document.getElementById('content').style.display = 'block';
    });

    document.getElementById('books-link').addEventListener('click', () => {
      document.getElementById('dashboard-section').style.display = 'none';
      document.getElementById('student-info-section').style.display = 'none';
      document.getElementById('books-section').style.display = 'block';
      document.getElementById('content').style.display = 'none';
      renderBooks();
    });

    document.getElementById('student-info-link').addEventListener('click', () => {
      document.getElementById('dashboard-section').style.display = 'none';
      document.getElementById('books-section').style.display = 'none';
      document.getElementById('student-info-section').style.display = 'block';
      document.getElementById('content').style.display = 'none';
      renderStudents();
    });
  </script>
</body>
</html>

